/*!
 * ghostium
 * A Ghost theme focused on content based on Medium design/ux
 * http://ghostium.oswaldoacauan.com/
 * @author Oswaldo Acauan http://oswaldoacauan.com
 * @version 2.1.1
 * Copyright 2013. MIT licensed.
 */
var Drawer=function(a,b){"use strict";var c={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},d=c[b.prefixed("transition")],e=a("body"),f=a("#container"),g=a(".drawer-overlay"),h={open:function(){e.addClass("drawer-open drawer-transition")},close:function(){e.removeClass("drawer-open")},isOpen:function(){return e.hasClass("drawer-open")},bindOverlay:function(){g.on("click",function(a){a.preventDefault(),e.hasClass("drawer-open")&&h.close()})},bindAnchors:function(){a(".drawer-list a").on("click",function(){h.close()})},bindContainerTransEnd:function(){f.on(d,function(){e.hasClass("drawer-open")||e.removeClass("drawer-transition")})},init:function(){h.bindOverlay(),h.bindAnchors(),h.bindContainerTransEnd()}};return{init:h.init,open:h.open,close:h.close,isOpen:h.isOpen}}(jQuery,Modernizr),ImageLoader=function(a){"use strict";var b=(a("body"),a("#container"),a(".drawer-overlay"),{done:function(a){a.addClass("image-loaded")},success:function(a,c){a.css("background-image","url("+c.src+")"),b.done(a)},init:function(a){var c=new Image,d=a.data("load-image");return d.length&&(c.src=d,c.onload=b.success(a,c),c.onerror=b.done(a),c.onabort=b.done(a)),c}});return{load:b.init}}(jQuery);!function(a,b,c,d){"use strict";a(function(){var e=(a(b),a(c)),f=(a(c.documentElement),a(c.body)),g=f,h=a(".content",g);FastClick.attach(c.body),Drawer.init(),Prism.languages.html=Prism.languages.markup;var i=function(){a("code").not('[class*="language-"]').addClass(function(){var b=a(this).attr("class")||"markup";return b=b.replace(/(language|lang)+\-/gi,""),"language-"+(Prism.languages.hasOwnProperty(b)?b:"markup")}),Prism.highlightAll()};if(i(),a.support.pjax){e.on("pjax:start",function(){NProgress.start(),g.scrollTop(0)}),e.on("pjax:end",function(){"function"==typeof ga&&(ga("set","location",b.location.href),ga("send","pageview")),"object"==typeof DISQUS&&a("#disqus_thread").length&&DISQUS.reset({reload:!0,config:function(){this.page.identifier=disqus_identifier}}),"object"==typeof DISQUSWIDGETS&&DISQUSWIDGETS.getCount(),a("[data-load-image]",h).each(function(){ImageLoader.load(a(this))}),i(),NProgress.done()});var j={container:"[data-pjax-container]",fragment:"[data-pjax-container]"};e.pjax("a[data-pjax]",j),e.on("submit","form[data-pjax]",function(b){a.pjax.submit(b,j)})}e.on("click","[data-action]",function(e){var f=a(this),g=f.data("action"),h=function(a,c,e){var f=b.screenLeft!==d?b.screenLeft:screen.left,g=b.screenTop!==d?b.screenTop:screen.top,h=screen.width/2-e/2+f,i=screen.height/2-c/2+g,j=b.open(a,"","toolbar=no,location=no,directories=no,status=no,menubar=no,scrollbars=no,resizable=no,copyhistory=no, width="+e+", height="+c+", top="+i+", left="+h);return b.focus&&j.focus(),j};switch(e.preventDefault(),g){case"open-drawer":Drawer.open();break;case"close-drawer":Drawer.close();break;case"share-gplus":h("https://plus.google.com/share?url="+encodeURIComponent(location.href),600,600);break;case"share-facebook":h("https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(location.href),436,626);break;case"share-twitter":h("https://twitter.com/share?url="+encodeURIComponent(location.href)+"&text="+encodeURIComponent(c.title),440,550)}return!1}),a("[data-load-image]",f).each(function(){ImageLoader.load(a(this))}),g.on("scroll",function(){var b=g.scrollTop(),c=a("#drawer-button");0===b?c.removeClass("drawer-button-hidden"):c.hasClass("drawer-button-hidden")||c.addClass("drawer-button-hidden")}),e.on("click","a[href^=#]:not([href=#])",function(b){b.preventDefault();var c=a(this.hash);return c=c.length?c:a("[name="+this.hash.slice(1)+"]"),c.length?(g.animate({scrollTop:c.offset().top},500),location.hash=this.hash,!1):void 0}),g.on("touchstart",function(){}),f.hasClass("home-template")&&a(".wrapper").eq(0).focus()})}(jQuery,window,document);